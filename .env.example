# ============================================================
# AVATAR 專案環境變數範本
# ============================================================
#
# 使用說明：
# 1. 複製此檔案為 .env: cp .env.example .env
# 2. 根據實際環境調整參數值
# 3. .env 已在 .gitignore 中，不會被提交到 Git
#
# ============================================================

# ------------------------------------------------------------
# 伺服器設定
# ------------------------------------------------------------
AVATAR_HOST=0.0.0.0
AVATAR_PORT=8000

# CORS 允許來源 (逗號分隔)
AVATAR_CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ------------------------------------------------------------
# 資源限制 (RTX 4000 SFF Ada - 20GB VRAM)
# ------------------------------------------------------------
AVATAR_MAX_SESSIONS=4           # 最大並發會話數
AVATAR_VRAM_LIMIT=20            # VRAM 限制 (GB)

# 多 GPU 配置
# AVATAR_GPU_DEVICE=1           # 指定使用的 GPU (null = 自動選擇)
AVATAR_AUTO_SELECT_GPU=true     # 自動選擇 VRAM 最大的 GPU

# ------------------------------------------------------------
# AI 服務提供商選擇 (local/api)
# ------------------------------------------------------------
# STT Provider: local (Whisper), openai, azure, google
AVATAR_STT_PROVIDER=local

# LLM Provider: local (vLLM), openai, anthropic, azure
AVATAR_LLM_PROVIDER=local

# TTS Provider: local (F5-TTS), elevenlabs, azure, openai
AVATAR_TTS_PROVIDER=local

# ------------------------------------------------------------
# STT API 配置 (當 STT_PROVIDER != local 時需要)
# ------------------------------------------------------------
# AVATAR_STT_API_KEY=your_api_key_here
# AVATAR_STT_API_ENDPOINT=https://api.openai.com/v1/audio/transcriptions
# AVATAR_STT_API_MODEL=whisper-1

# ------------------------------------------------------------
# LLM API 配置 (當 LLM_PROVIDER != local 時需要)
# ------------------------------------------------------------
# AVATAR_LLM_API_KEY=your_api_key_here
# AVATAR_LLM_API_ENDPOINT=https://api.openai.com/v1/chat/completions
# AVATAR_LLM_API_MODEL=gpt-4
# AVATAR_LLM_API_BASE_URL=https://api.openai.com/v1  # 自訂端點

# ------------------------------------------------------------
# TTS API 配置 (當 TTS_PROVIDER != local 時需要)
# ------------------------------------------------------------
# AVATAR_TTS_API_KEY=your_api_key_here
# AVATAR_TTS_API_ENDPOINT=https://api.openai.com/v1/audio/speech
# AVATAR_TTS_API_VOICE=alloy
# AVATAR_TTS_API_MODEL=tts-1

# ------------------------------------------------------------
# 地端 AI 模型設定
# ------------------------------------------------------------

# Whisper STT (本地模式)
# 模型大小: tiny, base, small, medium, large
AVATAR_WHISPER_MODEL=base
# ⚠️ Whisper 強制使用 CPU 避免 VRAM 競爭
AVATAR_WHISPER_DEVICE=cpu
AVATAR_WHISPER_COMPUTE=int8

# vLLM (本地模式)
AVATAR_VLLM_MODEL=Qwen/Qwen2.5-7B-Instruct-AWQ
AVATAR_VLLM_MEMORY=0.75         # GPU 記憶體使用比例 (75%)
AVATAR_VLLM_MAX_TOKENS=2048

# TTS 設定
AVATAR_F5_SPEED=1.0                                        # F5-TTS 速度
AVATAR_COSY_SAMPLE_RATE=24000                              # CosyVoice2 採樣率 (24kHz)

# TTS 高質模式 (CosyVoice2)
AVATAR_TTS_ENABLE_HQ=true                                  # 啟用高質 TTS
AVATAR_TTS_HQ_MODEL=CosyVoice/pretrained_models/CosyVoice2-0.5B

# ------------------------------------------------------------
# 日誌等級
# ------------------------------------------------------------
# DEBUG, INFO, WARNING, ERROR, CRITICAL
AVATAR_LOG_LEVEL=INFO

# ------------------------------------------------------------
# 備註說明
# ------------------------------------------------------------
#
# 效能目標 (KPIs):
# - E2E 延遲 P95: ≤ 3.5s
# - LLM TTFT: ≤ 800ms
# - Fast TTS P50: ≤ 1.5s
#
# VRAM 分配建議 (RTX 4000 20GB):
# - vLLM: 9-12GB (常駐)
# - F5-TTS: 1-2GB (按需)
# - CosyVoice2: 3-4GB (按需)
# - 系統預留: 2-3GB
#
# ============================================================
